# CryptoRate 剩余任务清单（按优先级排序）

> 📅 最后更新: 2026-02-27
> ✅ = 已完成 | 🔴 = 高优先级 | 🟡 = 中优先级 | 🟢 = 低优先级

---

## ✅ 已完成的功能

| 模块 | 功能 |
|------|------|
| 后端核心 | Spring Boot 3 + MyBatis + MySQL 基础架构 |
| 汇率数据 | Coinlayer API 集成、定时采集、历史数据存储 |
| 数据查询 | 币种列表、最新汇率、历史汇率、搜索 |
| 统计分析 | 汇率统计摘要（最高/最低/平均/涨跌幅） |
| AI 分析 | 智能行情分析报告 |
| 用户管理 | 注册、登录、CRUD |
| JWT 认证 | Token 生成/校验、拦截器、BCrypt 密码加密 |
| 前端框架 | React + Vite、Recharts 图表、Lucide 图标 |
| 前端页面 | 主界面（币种列表+K线图+统计面板）、登录/注册页 |
| 前端鉴权 | axios 拦截器自动携带 Token、401 自动跳转登录 |
| CORS | CorsFilter + JwtInterceptor OPTIONS 放行 |

---

## 🔴 高优先级（毕业设计核心功能，影响答辩评分）

### 1. README.md 乱码修复与更新
- [ ] 修复附录 A、B 的中文乱码（UTF-8 编码问题，大量 `鈥?` 等乱码）
- [ ] 更新 README 反映 JWT 认证、CORS、前端等新功能
- [ ] 更新项目结构树（缺少 config/CorsConfig、interceptor、dto 等新文件）
- [ ] 更新 API 接口总览表（缺少 /api/v1/* 系列接口）

### 2. 用户资产（收藏）功能联通
- [ ] 前端收藏按钮对接后端 `/api/v1/assets` 接口（当前仅本地 state）
- [ ] 收藏列表持久化到数据库（当前刷新后丢失）
- [ ] 收藏列表页展示用户已收藏的币种

### 3. 前端登录状态全局管理
- [ ] 401 响应时自动弹出登录页面（当前用 window.location 跳转，SPA 体验差）
- [ ] 页面刷新后恢复登录态（当前 Token 在，但用户信息可能丢失）
- [ ] 登录后自动刷新数据（当前需手动刷新）

### 4. 前端导航栏功能完善
- [ ] "收藏" 标签页展示已收藏的币种（当前点击无反应）
- [ ] "分析" 标签页展示分析历史/AI 报告列表（当前点击无反应）

---

## 🟡 中优先级（提升系统完整度与答辩印象分）

### 5. 数据库旧数据迁移
- [ ] 编写 SQL 脚本或工具，将数据库中已有的明文密码批量迁移为 BCrypt 哈希
- [ ] 或在 README 中明确说明需要重新注册

### 6. 前端页面优化
- [ ] K 线图使用真实 OHLC 数据（当前是随机模拟的开/高/低/收）
- [ ] 价格变化指标使用后端真实数据（当前右侧面板 7天/30天/90天/1年 是硬编码假数据）
- [ ] 左侧币种列表的涨跌幅使用真实数据（当前是 `Math.random()` 随机生成）

### 7. 管理后台完善
- [ ] 前端添加管理后台入口（AdminController 已有后端接口）
- [ ] 管理员权限校验（当前 `/api/v1/admin/*` 只做了 JWT 校验，未做角色区分）

### 8. 接口文档更新
- [ ] 集成 Swagger/SpringDoc 自动生成 API 文档
- [ ] 或手动更新 Postman Collection 覆盖所有新接口

---

## 🟢 低优先级（锦上添花，时间充裕再做）

### 9. 性能与缓存
- [ ] 集成 Redis 缓存热门币种汇率（减少数据库查询）
- [ ] 前端请求结果本地缓存（减少重复请求）

### 10. 安全加固
- [ ] 登录/注册失败次数限制（防暴力破解）
- [ ] JWT Secret Key 改为环境变量注入（当前写在 yml 中）
- [ ] 添加 HTTPS 支持

### 11. 部署与运维
- [ ] 编写 Dockerfile 容器化部署
- [ ] 编写部署文档（服务器环境配置指南）
- [ ] 配置生产环境 CORS 白名单（当前允许 localhost:*）

### 12. 单元测试
- [ ] 编写 UserService 单元测试（JUnit 5 + Mockito）
- [ ] 编写 JwtUtils 单元测试
- [ ] 编写 Controller 层集成测试

### 13. 前端代码优化
- [ ] 抽取公共组件（Loading、ErrorAlert 等）
- [ ] 添加路由（React Router），支持 URL 直接访问各页面
- [ ] 响应式适配移动端

---

## 📊 工作量估算

| 优先级 | 任务数 | 预估工时 |
|--------|--------|---------|
| 🔴 高 | 4 项（约 10 个子任务） | 6-8 小时 |
| 🟡 中 | 4 项（约 8 个子任务） | 5-6 小时 |
| 🟢 低 | 5 项（约 12 个子任务） | 8-10 小时 |

> 💡 **建议**：先集中完成 🔴 高优先级任务，确保毕业设计的核心功能闭环（用户能注册→登录→收藏→查看收藏）。🟡 中优先级能显著提升答辩印象分。🟢 低优先级在时间充裕时选做。
